{"version":3,"file":"src_app_pages_properties_properties_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAkF;AACvB;AACO;AAGe;AACtB;AACZ;AACS;IAS3C,mBAAmB,SAAnB,mBAAmB;IAmB9B,YAAmB,WAAuB,EACvB,UAAqB,EACrB,aAA4B,EACN,UAAkB;QAHxC,gBAAW,GAAX,WAAW,CAAY;QACvB,eAAU,GAAV,UAAU,CAAW;QACrB,kBAAa,GAAb,aAAa,CAAe;QACN,eAAU,GAAV,UAAU,CAAQ;QApBpD,gBAAW,GAAW,IAAI,CAAC;QAE3B,aAAQ,GAAoC;YACjD,gBAAgB,EAAC,IAAI;SACtB,CAAC;QAEK,aAAQ,GAAW,MAAM,CAAC;QAC1B,YAAO,GAAW,IAAI,CAAC;QACvB,UAAK,GAAW,EAAE,CAAC;QAInB,eAAU,GAAc,IAAI,mDAAU,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAS1E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,YAAY,EAAE;aAC1C,IAAI,CAAC,sDAAM,CAAC,CAAC,OAAsB,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,mDAAG,CAAC,CAAC,OAAsB,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aACzG,SAAS,CAAC,CAAC,MAAmB,EAAE,EAAE;YACjC,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE;gBAC1B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;aACpB;iBACI,IAAG,MAAM,CAAC,OAAO,IAAI,IAAI,EAAC;gBAC7B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;aACnB;iBACI,IAAG,MAAM,CAAC,OAAO,IAAI,IAAI,EAAC;gBAC7B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;iBACG;gBACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,QAAQ;IACR,CAAC;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;IAC7B,CAAC;CAGF;;YAlEkB,sDAAW;YACrB,oDAAU;YALG,+DAAa;YAqCoB,MAAM,uBAA9C,iDAAM,SAAC,sDAAW;;;sBArB9B,oDAAS,SAAC,SAAS;wBAEnB,oDAAS,SAAC,qEAAY;;AAHZ,mBAAmB;IAL/B,wDAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,4EAA0C;;KAE3C,CAAC;GACW,mBAAmB,CAuD/B;AAvD+B;;;;;;;;;;;;;;;;;;;;;;;;;ACjBS;AACM;AACQ;AACb;AACgB;AACG;AACK;AAE3D,MAAM,MAAM,GAAW;IAC5B,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,sEAAmB,EAAE,SAAS,EAAE,MAAM,EAAE;IAC/D,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,2EAAiB,EAAE;CAC9C,CAAC;IAiBW,gBAAgB,SAAhB,gBAAgB;CAAI;AAApB,gBAAgB;IAf5B,uDAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sEAAmB;YACnB,2EAAiB;SAClB;QACD,OAAO,EAAE;YACP,sEAAmB;SACpB;QACD,OAAO,EAAE;YACP,yDAAY;YACZ,kEAAqB,CAAC,MAAM,CAAC;YAC7B,oDAAa;YACb,+DAAY;SACb;KACF,CAAC;GACW,gBAAgB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BuE;AAClB;AACjC;AACA;AAE2B;AAEf;AAET;AACgB;IAOvD,iBAAiB,SAAjB,iBAAiB;IAoB5B,YAAmB,WAAuB,EACvB,UAAqB,EACpB,cAA8B,EAC9B,YAA+B,EAChC,EAAsB;QAJtB,gBAAW,GAAX,WAAW,CAAY;QACvB,eAAU,GAAV,UAAU,CAAW;QACpB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAmB;QAChC,OAAE,GAAF,EAAE,CAAoB;QArBlC,aAAQ,GAAoC;YACjD,gBAAgB,EAAC,IAAI;SACtB,CAAC;QACK,gBAAW,GAAW,IAAI,CAAC;QAE3B,WAAM,GAA0B,EAAE,CAAC;QACnC,YAAO,GAA0B,EAAE,CAAC;QAgBzC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;IAC5C,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAE3E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACvD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjB,IAAG,MAAM,CAAC,UAAU,GAAG,GAAG,EAAC;YACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAG,IAAI,CAAC,OAAO,EAAC;gBACd,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;aACtB;SACF;QAAA,CAAC;QACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAChC,eAAe,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAC1C,WAAW,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YACtC,YAAY,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YACvC,MAAM,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SAClC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC/B,IAAI,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAC/B,KAAK,EAAE,CAAC,EAAE,EAAE,8DAAkB,CAAC,CAAC,+DAAmB,EAAE,8EAAc,CAAC,CAAC,CAAC;YACtE,KAAK,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAChC,OAAO,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SACnC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IACzB,CAAC;IAGM,cAAc;QACnB,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IACjF,CAAC;IAEM,eAAe,CAAC,EAAE;QACvB,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,GAAE;YAClD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACxE,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBAC5B,IAAG,MAAM,EAAC;wBACR,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;qBACpB;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,CAAC,MAAM,GAAG;YACZ,QAAQ,EAAE,KAAK;YACf,aAAa,EAAE,CAAC;YAChB,YAAY,EAAE,CAAC;YACf,QAAQ,EAAE,IAAI;YACd,UAAU,EAAE,IAAI;YAChB,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,KAAK;YACX,aAAa,EAAE,KAAK;YACpB,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE;gBACR,KAAK,EAAE,IAAI;gBACX,oBAAoB,EAAE,KAAK;aAC5B;SACF,CAAC;QAEF,IAAI,CAAC,OAAO,GAAG;YACb,QAAQ,EAAE,KAAK;YACf,aAAa,EAAE,CAAC;YAChB,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE,IAAI;YACd,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,KAAK;YACX,aAAa,EAAE,KAAK;YACpB,IAAI,EAAE,IAAI;YACV,WAAW,EAAE;gBACX,GAAG,EAAE;oBACH,aAAa,EAAE,CAAC;iBACjB;gBACD,GAAG,EAAE;oBACH,aAAa,EAAE,CAAC;iBACjB;gBACD,GAAG,EAAE;oBACH,aAAa,EAAE,CAAC;iBACjB;aACF;SACF;IAEH,CAAC;IAGM,cAAc;QACnB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAG,MAAM,EAAC;gBACR,MAAM,CAAC,MAAM,EAAE,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,WAAW,CAAC,KAAY;QAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAG,MAAM,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,EAAE,IAAI,eAAe,EAAC;gBAC1D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,aAAa,CAAC,KAAa;QAChC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAI,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC;YAC9C,IAAG,IAAI,CAAC,EAAE,IAAI,gBAAgB,EAAC;gBAC7B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzD,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC7C,IAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,GAAC,KAAK,CAAC,EAAC;wBAC5C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;qBACvC;yBACG;wBACF,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;qBAC1C;iBACF;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAIM,SAAS;QACd,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,GAAE,KAAI,CAAC,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACvF,CAAC;IAGM,WAAW;QAChB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,GAAE,KAAI,CAAC,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACrF,CAAC;IAEM,oBAAoB;QACzB,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,UAAU,GAAE;YAC3D,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;QACtC,CAAC,CAAC;IACJ,CAAC;IAEM,qBAAqB;QAC1B,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC,SAAS,CAAC,UAAU,GAAE;YAC5D,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC;IACJ,CAAC;IAEM,QAAQ,CAAC,UAAiB,CAAC;QAChC,IAAI,GAAG,GAAG,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,YAAY;QACnC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAiB;QACtE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,KAAK,GAAE,CAAC,KAAK,CAAC,EAAE,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAClF,CAAC;IAEM,mBAAmB,CAAC,MAAa;QACtC,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;YAC1B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACrB;IACH,CAAC;IAEM,oBAAoB,CAAC,MAAa;QACvC,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;YAC3B,IAAI,eAAe,GAAG,MAAM,CAAC,iBAAiB,CAAC;YAC/C,IAAI,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC;YAChC,IAAI,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC;YACrC,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,IAAI,EAAE,QAAQ,GAAG,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SAChH;IACH,CAAC;IACM,iBAAiB,CAAC,eAAmB,EAAE,WAAe,EAAE,YAAgB,EAAE,MAAU;QACzF,OAAO,CAAC,CAAC,eAAe,GAAC,WAAW,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IACpG,CAAC;CAEF;;YA3NQ,6DAAW;YAJX,2DAAU;YADV,2DAAc;YAOd,8DAAiB;YARjB,8DAAkB;;;sBAiBxB,oDAAS,SAAC,SAAS;sBACnB,uDAAY,SAAC,+DAAe;6BA2D5B,uDAAY,SAAC,eAAe;;AA7DlB,iBAAiB;IAL7B,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,0EAAwC;;KAEzC,CAAC;GACW,iBAAiB,CAiN7B;AAjN6B","sources":["./src/app/pages/properties/properties.component.ts","./src/app/pages/properties/properties.module.ts","./src/app/pages/properties/property/property.component.ts"],"sourcesContent":["import { Component, Inject, OnInit, PLATFORM_ID, ViewChild } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { Subscription } from 'rxjs'; \r\nimport { debounceTime, distinctUntilChanged, filter, map } from 'rxjs/operators'; \r\nimport { Settings, AppSettings } from '../../app.settings';\r\nimport { AppService } from '../../app.service';\r\nimport { Property, Pagination } from '../../app.models'; \r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-properties',\r\n  templateUrl: './properties.component.html',\r\n  styleUrls: ['./properties.component.scss']\r\n})\r\nexport class PropertiesComponent implements OnInit {\r\n  @ViewChild('sidenav') sidenav: any;\r\n  public sidenavOpen:boolean = true;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  public psConfig: PerfectScrollbarConfigInterface = {\r\n    wheelPropagation:true\r\n  };\r\n  public properties: Property[];\r\n  public viewType: string = 'grid';\r\n  public viewCol: number = 33.3;\r\n  public count: number = 12;\r\n  public sort: string;\r\n  public searchFields: any;\r\n  public removedSearchField: string;\r\n  public pagination:Pagination = new Pagination(1, this.count, null, 2, 0, 0); \r\n  public message:string;\r\n  public watcher: Subscription;\r\n\r\n  public settings: Settings\r\n  constructor(public appSettings:AppSettings, \r\n              public appService:AppService, \r\n              public mediaObserver: MediaObserver,\r\n              @Inject(PLATFORM_ID) private platformId: Object) {\r\n    this.settings = this.appSettings.settings;    \r\n    this.watcher = mediaObserver.asObservable()\r\n    .pipe(filter((changes: MediaChange[]) => changes.length > 0), map((changes: MediaChange[]) => changes[0]))\r\n    .subscribe((change: MediaChange) => {\r\n      if (change.mqAlias == 'xs') {\r\n        this.sidenavOpen = false;\r\n        this.viewCol = 100;\r\n      }\r\n      else if(change.mqAlias == 'sm'){\r\n        this.sidenavOpen = false;\r\n        this.viewCol = 50;\r\n      }\r\n      else if(change.mqAlias == 'md'){\r\n        this.viewCol = 50;\r\n        this.sidenavOpen = true;\r\n      }\r\n      else{\r\n        this.viewCol = 33.3;\r\n        this.sidenavOpen = true;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy(){ \r\n    this.watcher.unsubscribe();\r\n  }\r\n\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AgmCoreModule } from '@agm/core';  \r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { PropertiesComponent } from './properties.component';\r\nimport { PropertyComponent } from './property/property.component';\r\n\r\nexport const routes: Routes = [\r\n  { path: '', component: PropertiesComponent, pathMatch: 'full' },\r\n  { path: ':id', component: PropertyComponent }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PropertiesComponent, \r\n    PropertyComponent\r\n  ],\r\n  exports: [\r\n    PropertiesComponent, \r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    AgmCoreModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class PropertiesModule { }\r\n","import { Component, OnInit, ViewChild, HostListener, ViewChildren, QueryList } from '@angular/core';\r\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { Property } from 'src/app/app.models';\r\nimport { SwiperConfigInterface, SwiperDirective } from 'ngx-swiper-wrapper';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { AppSettings, Settings } from 'src/app/app.settings';\r\nimport { CompareOverviewComponent } from 'src/app/shared/compare-overview/compare-overview.component';\r\nimport { EmbedVideoService } from 'ngx-embed-video'; \r\nimport { emailValidator } from 'src/app/theme/utils/app-validators';\r\n\r\n@Component({\r\n  selector: 'app-property',\r\n  templateUrl: './property.component.html',\r\n  styleUrls: ['./property.component.scss']\r\n})\r\nexport class PropertyComponent implements OnInit {\r\n  @ViewChild('sidenav') sidenav: any;  \r\n  @ViewChildren(SwiperDirective) swipers: QueryList<SwiperDirective>;\r\n  public psConfig: PerfectScrollbarConfigInterface = {\r\n    wheelPropagation:true\r\n  };\r\n  public sidenavOpen:boolean = true;\r\n  public stateTransaction:any;\r\n  public config: SwiperConfigInterface = {}; \r\n  public config2: SwiperConfigInterface = {}; \r\n  private sub: any;\r\n  public property:Property; \r\n  public settings: Settings;  \r\n  public embedVideo: any;\r\n  public relatedProperties: Property[];\r\n  public featuredProperties: Property[];\r\n  public agent:any;\r\n  public mortgageForm: UntypedFormGroup;\r\n  public monthlyPayment:any;\r\n  public contactForm: UntypedFormGroup;\r\n  constructor(public appSettings:AppSettings, \r\n              public appService:AppService, \r\n              private activatedRoute: ActivatedRoute, \r\n              private embedService: EmbedVideoService,\r\n              public fb: UntypedFormBuilder) {\r\n    this.settings = this.appSettings.settings; \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.stateTransaction=JSON.parse(localStorage.getItem('stateTransaction'));\r\n\r\n    this.sub = this.activatedRoute.params.subscribe(params => {   \r\n      this.getPropertyById(params['id']); \r\n    });\r\n    this.getRelatedProperties();\r\n    this.getFeaturedProperties();\r\n    this.getAgent(1);\r\n    if(window.innerWidth < 960){\r\n      this.sidenavOpen = false;\r\n      if(this.sidenav){\r\n        this.sidenav.close();\r\n      } \r\n    };\r\n    this.mortgageForm = this.fb.group({\r\n      principalAmount: ['', Validators.required],\r\n      downPayment: ['', Validators.required], \r\n      interestRate: ['', Validators.required],\r\n      period: ['', Validators.required]\r\n    });\r\n    this.contactForm = this.fb.group({\r\n      name: ['', Validators.required],\r\n      email: ['', Validators.compose([Validators.required, emailValidator])],\r\n      phone: ['', Validators.required],\r\n      message: ['', Validators.required]\r\n    });\r\n  } \r\n\r\n  ngOnDestroy() {\r\n    this.sub.unsubscribe();\r\n  }  \r\n\r\n  @HostListener('window:resize')\r\n  public onWindowResize():void {\r\n    (window.innerWidth < 960) ? this.sidenavOpen = false : this.sidenavOpen = true; \r\n  }\r\n\r\n  public getPropertyById(id){\r\n    this.appService.getPropertyById(id).subscribe(data=>{\r\n      this.property = data;  \r\n      this.embedVideo = this.embedService.embed(this.property.videos[1].link);\r\n      setTimeout(() => { \r\n        this.config.observer = true;\r\n        this.config2.observer = true; \r\n        this.swipers.forEach(swiper => { \r\n          if(swiper){\r\n            swiper.setIndex(0);\r\n          } \r\n        }); \r\n      });\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(){\r\n    this.config = {\r\n      observer: false,\r\n      slidesPerView: 1,\r\n      spaceBetween: 0,       \r\n      keyboard: true,\r\n      navigation: true,\r\n      pagination: false,\r\n      grabCursor: true,        \r\n      loop: false,\r\n      preloadImages: false,\r\n      lazy: true,\r\n      autoplay: {\r\n        delay: 5000,\r\n        disableOnInteraction: false\r\n      }\r\n    };\r\n\r\n    this.config2 = {\r\n      observer: false,\r\n      slidesPerView: 4,\r\n      spaceBetween: 16,      \r\n      keyboard: true,\r\n      navigation: false,\r\n      pagination: false, \r\n      grabCursor: true,       \r\n      loop: false, \r\n      preloadImages: false,\r\n      lazy: true,  \r\n      breakpoints: {\r\n        200: {\r\n          slidesPerView: 2\r\n        },\r\n        480: {\r\n          slidesPerView: 3\r\n        },\r\n        600: {\r\n          slidesPerView: 4\r\n        } \r\n      }\r\n    } \r\n\r\n  }\r\n  \r\n\r\n  public onOpenedChange(){ \r\n    this.swipers.forEach(swiper => { \r\n      if(swiper){\r\n        swiper.update();\r\n      } \r\n    });     \r\n  }\r\n\r\n  public selectImage(index:number){ \r\n    this.swipers.forEach(swiper => {\r\n      if(swiper['elementRef'].nativeElement.id == 'main-carousel'){\r\n        swiper.setIndex(index);\r\n      }      \r\n    }); \r\n  }\r\n\r\n  public onIndexChange(index: number) {  \r\n    this.swipers.forEach(swiper => { \r\n      let elem = swiper['elementRef'].nativeElement;\r\n      if(elem.id == 'small-carousel'){\r\n        swiper.setIndex(index);  \r\n        for (let i = 0; i < elem.children[0].children.length; i++) {\r\n          const element = elem.children[0].children[i]; \r\n          if(element.classList.contains('thumb-'+index)){\r\n            element.classList.add('active-thumb'); \r\n          }\r\n          else{\r\n            element.classList.remove('active-thumb'); \r\n          }\r\n        }\r\n      } \r\n    });     \r\n  }\r\n\r\n\r\n\r\n  public onCompare(){\r\n    return this.appService.Data.compareList.filter(item=>item.id == this.property.id)[0];\r\n  }\r\n\r\n\r\n  public onFavorites(){\r\n    return this.appService.Data.favorites.filter(item=>item.id == this.property.id)[0];\r\n  }\r\n\r\n  public getRelatedProperties(){\r\n    this.appService.getRelatedProperties().subscribe(properties=>{\r\n      this.relatedProperties = properties;\r\n    })\r\n  }\r\n\r\n  public getFeaturedProperties(){\r\n    this.appService.getFeaturedProperties().subscribe(properties=>{\r\n      this.featuredProperties = properties.slice(0,3); \r\n    })\r\n  } \r\n\r\n  public getAgent(agentId:number = 1){\r\n    var ids = [1,2,3,4,5]; //agent ids \r\n    agentId = ids[Math.floor(Math.random()*ids.length)]; //random agent id\r\n    this.agent = this.appService.getAgents().filter(agent=> agent.id == agentId)[0]; \r\n  }\r\n\r\n  public onContactFormSubmit(values:Object){\r\n    if (this.contactForm.valid) { \r\n      console.log(values);\r\n    } \r\n  }\r\n\r\n  public onMortgageFormSubmit(values:Object){ \r\n    if (this.mortgageForm.valid) { \r\n      var principalAmount = values['principalAmount']\r\n      var down = values['downPayment']\r\n      var interest = values['interestRate']\r\n      var term = values['period']\r\n      this.monthlyPayment = this.calculateMortgage(principalAmount, down, interest / 100 / 12, term * 12).toFixed(2);\r\n    }     \r\n  }\r\n  public calculateMortgage(principalAmount:any, downPayment:any, interestRate:any, period:any){    \r\n    return ((principalAmount-downPayment) * interestRate) / (1 - Math.pow(1 + interestRate, -period));\r\n  } \r\n\r\n}"],"names":[],"sourceRoot":"webpack:///"}